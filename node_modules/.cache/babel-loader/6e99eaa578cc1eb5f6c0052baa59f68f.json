{"ast":null,"code":"import _toConsumableArray from\"C:/Mykola/GitHub/articles-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Mykola/GitHub/articles-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Mykola/GitHub/articles-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Mykola/GitHub/articles-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Mykola/GitHub/articles-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import{ArticlesBoard}from\"components/ArticlesBoard/ArticlesBoard\";import{Searchbar}from\"components/Searchbar/Searchbar\";import{CountResults}from\"components/CountResults/CountResults\";import{ArticleList}from\"components/ArticleList/ArticleList\";import api from'./service/articles-api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={articles:[],currentPage:1,searchQuery:''};_this.onChangeQuery=function(query){_this.setState({searchQuery:query,articles:[],currentPage:1,error:null});};_this.fetchArticles=function(){var _this$state=_this.state,currentPage=_this$state.currentPage,searchQuery=_this$state.searchQuery;var options={currentPage:currentPage,searchQuery:searchQuery};_this.setState({isLoading:true});api.fetchArticles(options).then(function(articles){_this.setState(function(prevState){return{articles:[].concat(_toConsumableArray(prevState.articles),_toConsumableArray(articles)),currentPage:prevState.currentPage+1};});}).catch(function(error){return _this.setState({error:error});}).finally(function(){return _this.setState({isLoading:false});});};_this.toggleModal=function(){_this.setState(function(_ref){var showModal=_ref.showModal;return{showModal:!showModal};});};_this.showSelectedArticle=function(url,alt){_this.setState({largeImageUrl:url,description:alt});_this.toggleModal();};return _this;}_createClass(App,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.searchQuery!==this.state.searchQuery){this.fetchImages();}this.scrollToBottom();}},{key:\"render\",value:function render(){var articles=this.state.articles;// const renderButton = articles.length > 0 && !isLoading;\nreturn/*#__PURE__*/_jsxs(ArticlesBoard,{children:[/*#__PURE__*/_jsx(Searchbar,{onSubmit:this.onChangeQuery}),/*#__PURE__*/_jsx(CountResults,{}),/*#__PURE__*/_jsx(ArticleList,{articles:articles,onArticleClick:this.showSelectedArticle})]});}}]);return App;}(Component);;","map":{"version":3,"sources":["C:/Mykola/GitHub/articles-application/src/App.jsx"],"names":["Component","ArticlesBoard","Searchbar","CountResults","ArticleList","api","App","state","articles","currentPage","searchQuery","onChangeQuery","query","setState","error","fetchArticles","options","isLoading","then","prevState","catch","finally","toggleModal","showModal","showSelectedArticle","url","alt","largeImageUrl","description","prevProps","fetchImages","scrollToBottom"],"mappings":"owBAAA,OAASA,SAAT,KAA0B,OAA1B,CAEA,OAASC,aAAT,KAA8B,wCAA9B,CACA,OAASC,SAAT,KAA0B,gCAA1B,CACA,OAASC,YAAT,KAA6B,sCAA7B,CACA,OAASC,WAAT,KAA4B,oCAA5B,CAEA,MAAOC,CAAAA,GAAP,KAAgB,wBAAhB,C,wFAEA,UAAaC,CAAAA,GAAb,+SAEEC,KAFF,CAEU,CACNC,QAAQ,CAAE,EADJ,CAENC,WAAW,CAAE,CAFP,CAGNC,WAAW,CAAE,EAHP,CAFV,OAgBEC,aAhBF,CAgBkB,SAAAC,KAAK,CAAI,CACvB,MAAKC,QAAL,CAAc,CACZH,WAAW,CAAEE,KADD,CAEZJ,QAAQ,CAAE,EAFE,CAGZC,WAAW,CAAE,CAHD,CAIZK,KAAK,CAAE,IAJK,CAAd,EAMD,CAvBH,OAyBEC,aAzBF,CAyBkB,UAAM,iBACiB,MAAKR,KADtB,CACZE,WADY,aACZA,WADY,CACCC,WADD,aACCA,WADD,CAEpB,GAAMM,CAAAA,OAAO,CAAG,CAAEP,WAAW,CAAXA,WAAF,CAAeC,WAAW,CAAXA,WAAf,CAAhB,CAEA,MAAKG,QAAL,CAAc,CAAEI,SAAS,CAAE,IAAb,CAAd,EAEAZ,GAAG,CACAU,aADH,CACiBC,OADjB,EAEGE,IAFH,CAEQ,SAAAV,QAAQ,CAAI,CAChB,MAAKK,QAAL,CAAc,SAAAM,SAAS,QAAK,CAC1BX,QAAQ,8BAAMW,SAAS,CAACX,QAAhB,qBAA6BA,QAA7B,EADkB,CAE1BC,WAAW,CAAEU,SAAS,CAACV,WAAV,CAAwB,CAFX,CAAL,EAAvB,EAID,CAPH,EAQGW,KARH,CAQS,SAAAN,KAAK,QAAI,OAAKD,QAAL,CAAc,CAAEC,KAAK,CAALA,KAAF,CAAd,CAAJ,EARd,EASGO,OATH,CASW,iBAAM,OAAKR,QAAL,CAAc,CAAEI,SAAS,CAAE,KAAb,CAAd,CAAN,EATX,EAUD,CAzCH,OA2CEK,WA3CF,CA2CgB,UAAM,CAClB,MAAKT,QAAL,CAAc,kBAAGU,CAAAA,SAAH,MAAGA,SAAH,OAAoB,CAChCA,SAAS,CAAE,CAACA,SADoB,CAApB,EAAd,EAGD,CA/CH,OAiDEC,mBAjDF,CAiDwB,SAACC,GAAD,CAAMC,GAAN,CAAc,CAClC,MAAKb,QAAL,CAAc,CACZc,aAAa,CAAEF,GADH,CAEZG,WAAW,CAAEF,GAFD,CAAd,EAKA,MAAKJ,WAAL,GACD,CAxDH,iEAQE,4BAAmBO,SAAnB,CAA8BV,SAA9B,CAAyC,CACvC,GAAIA,SAAS,CAACT,WAAV,GAA0B,KAAKH,KAAL,CAAWG,WAAzC,CAAsD,CACpD,KAAKoB,WAAL,GACD,CAED,KAAKC,cAAL,GACD,CAdH,sBA0DE,iBAAS,IACCvB,CAAAA,QADD,CAEL,KAAKD,KAFA,CACCC,QADD,CAIP;AAGA,mBACE,MAAC,aAAD,yBACE,KAAC,SAAD,EAAW,QAAQ,CAAE,KAAKG,aAA1B,EADF,cAEE,KAAC,YAAD,IAFF,cAGE,KAAC,WAAD,EAAa,QAAQ,CAAEH,QAAvB,CAAiC,cAAc,CAAE,KAAKgB,mBAAtD,EAHF,GADF,CAgBD,CAjFH,iBAAyBxB,SAAzB,EAkFC","sourcesContent":["import { Component } from \"react\";\r\n\r\nimport { ArticlesBoard } from \"components/ArticlesBoard/ArticlesBoard\";\r\nimport { Searchbar } from \"components/Searchbar/Searchbar\";\r\nimport { CountResults } from \"components/CountResults/CountResults\";\r\nimport { ArticleList } from \"components/ArticleList/ArticleList\";\r\n\r\nimport api from './service/articles-api';\r\n\r\nexport class App extends Component {\r\n\r\n  state = {\r\n    articles: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n\r\n    this.scrollToBottom();\r\n  };\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      articles: [],\r\n      currentPage: 1,\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchArticles = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n    const options = { currentPage, searchQuery };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    api\r\n      .fetchArticles(options)\r\n      .then(articles => {\r\n        this.setState(prevState => ({\r\n          articles: [...prevState.articles, ...articles],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  showSelectedArticle = (url, alt) => {\r\n    this.setState({\r\n      largeImageUrl: url,\r\n      description: alt,\r\n    });\r\n\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { articles } =\r\n      this.state;\r\n\r\n    // const renderButton = articles.length > 0 && !isLoading;\r\n\r\n\r\n    return (\r\n      <ArticlesBoard>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <CountResults />\r\n        <ArticleList articles={articles} onArticleClick={this.showSelectedArticle} />\r\n        {/* {isLoading && <Loader />} */}\r\n        {/* {renderButton && <Button onClick={this.fetchArticles} />} */}\r\n        {/* {showModal && (\r\n          <Modal\r\n            url={largeImageUrl}\r\n            alt={description}\r\n            onClose={this.toggleModal}\r\n          />\r\n        )} */}\r\n      </ArticlesBoard>\r\n    );\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}